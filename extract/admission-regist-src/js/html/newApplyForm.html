<div>
  <div class="panel panel-default " style="margin-top: 20px;">
    <div class="panel-heading">
      <h3 class="panel-title">填写申请单信息</h3>
    </div>

    <div class="row" ng-if="canSubmit == 'forbid'">
      <div class="col-md-12">
        <div class="alert alert-danger" role="alert">
            <p><i class="glyphicon glyphicon-asterisk text-danger"></i> 标记项必须填写!</p>
        </div>
      </div>
    </div>


    <div class="panel-body row">
      <form class="form-inline">
        <!-- 患者 ID -->
        <div class="form-group form-item-margin col-md-6">
          <label for="patiId" class="col-sm-4 text-right"><i class="glyphicon glyphicon-asterisk text-danger"></i> 患者 ID:</label>
          <input type="text" 
                class="form-control" 
                id="patiId" 
                placeholder="请输入患者 ID"
                ng-model="newApplyFormData.formData.patiId">
        </div>

        <!-- 病区 -->
        <div class="form-group form-item-margin col-md-6">
          <label for="patiWard" class="col-sm-4 text-right"><i class="glyphicon glyphicon-asterisk text-danger"></i> 病区:</label>
          <select class="form-control" 
                  id="patiWard"
                  ng-options="opt.label for opt in newApplyFormData.wards"
                  ng-model="wardSelected"
                  ng-change="wardSelect()">
          </select>
          
        </div>

        <!-- 入院次数 -->
        <div class="form-group form-item-margin col-md-6">
          <label for="visitId" class="col-sm-4 text-right"><i class="glyphicon glyphicon-asterisk text-danger"></i> 入院次数:</label>
          <input type="number" 
                class="form-control" 
                id="patiVisitId"
                placeholder="请输入入院次数" 
                min="0"
                ng-model="newApplyFormData.formData.patiVisitId">
        </div>

        <!-- 患者姓名 -->
        <div class="form-group form-item-margin col-md-6">
          <label for="patiName" class="col-sm-4 text-right"><i class="glyphicon glyphicon-asterisk text-danger"></i> 患者姓名:</label>
          <input type="text" 
                class="form-control" 
                id="patiName" 
                placeholder="请输入患者姓名"
                ng-model="newApplyFormData.formData.name">
        </div>

        <!-- 患者性别 -->
        <div class="form-group form-item-margin col-md-6">
          <label for="visitId" class="col-sm-4 text-right"><i class="glyphicon glyphicon-asterisk text-danger"></i> 患者性别:</label>
          <label class="radio-inline">
            <input type="radio" 
                  name="sex"
                  value="男"
                  ng-model="newApplyFormData.formData.sex"> 男
          </label>

          <label class="radio-inline">
            <input type="radio" 
                  name="sex"
                  value="女"
                  ng-model="newApplyFormData.formData.sex"> 女
          </label>
        </div>

        <!-- 患者来源 -->
        <div class="form-group form-item-margin col-md-6">
          <label for="patiSource" class="col-sm-4 text-right">患者来源:</label>
          <input type="text" 
                class="form-control" 
                id="patiSource"
                ng-init="newApplyFormData.formData.patiSource = '手动录入'"
                ng-model="newApplyFormData.formData.patiSource"
                disabled>
        </div>
      </form>
    </div>


    <div class="row">
      <div class="form-group form-item-margin col-md-12 text-center clearfix">
        <button type="button" class="btn btn-default" ng-click="cancelNew()">取消</button>
        <button type="button" class="btn btn-primary" ng-click="confirmNew()" ng-if="submitStatus != 'submitting'">新建</button>
        <button type="button" disabled class="btn btn-primary" ng-click="confirmNew()" ng-if="submitStatus == 'submitting'">新建中...</button>
      </div>
    </div>
  </div>

  <!-- toast 通知 -->
  <toast-pop totast="totast" ng-if="totast"></toast-pop>
</div>


